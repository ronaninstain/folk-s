if (self.CavalryLogger) { CavalryLogger.start_js(["7Io\/TYc"]); }

__d("useCometTailLoadGlimmerTracker",["IntersectionObserver","cr:1703077","intersectionObserverEntryIsIntersecting","performanceNow","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react");function a(a,c,d){var e=i.useRef(null),f=i.useRef(-1),g=i.useRef(-1),j=i.useRef(0),k=i.useRef(!1),l=i.useRef(null),m=i.useRef(null);b("cr:1703077")&&a!=null&&b("cr:1703077").setTailLoadStartTime(a,d);i.useEffect(function(){return function(){m.current&&m.current(),m.current=null}},[]);return i.useCallback(function(d){if(a!=null&&b("cr:1703077")&&d&&(f.current!==c||e.current!==d)){e.current=d;m.current&&(m.current(),m.current=null);if(k.current){var i=l.current;i!=null&&(j.current+=(h||(h=b("performanceNow")))()-i);l.current=(h||(h=b("performanceNow")))();k.current=!1}f.current!==c&&(j.current>0&&(b("cr:1703077").reportInterruptedConsumption(a,f.current,j.current),g.current=f.current),f.current=c,j.current=0);i=function(a){Array.prototype.forEach.call(a,function(a){if(b("intersectionObserverEntryIsIntersecting")(a)&&!k.current)k.current=!0,l.current=a.time;else if(!b("intersectionObserverEntryIsIntersecting")(a)&&k.current){k.current=!1;var c=l.current;c!=null&&(j.current+=a.time-c)}})};var n=new(b("IntersectionObserver"))(i);n.observe(d);m.current=function(){n.disconnect()}}},[a,c])}}),null);
__d("CometInfiniteScrollSuspenseList.react",["CometPagelet.react","CometPlaceholder.react","CometSuspenseList.react","cr:1142206","gkx","mergeRefs","performanceNow","react","stylex","useCometTailLoadGlimmerTracker","useLayoutEffect_SAFE_FOR_SSR","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j=g||b("react"),k={glimmerRoot:{overflowAnchor:"rek2kq2y"}};function l(a){var c=a.onLoadMore,d=a.rootMargin;a=a.triggerXStyle;var e=j.useRef(!1),f=j.useCallback(function(){b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible] fired",{alreadyTriggered:e.current});if(e.current)return;e.current=!0;c()},[c]);d=b("useVisibilityObserver")({onVisible:f,options:{rootMargin:(f=d)!=null?f:0}});return j.jsx("div",{className:(h||(h=b("stylex")))(a),ref:d})}function a(a){var c=a.children,d=a.endGlimmerRef,e=a.hasMore,f=a.isLoading,g=a.listGlimmer,m=a.onLoadMore,n=a.pageletName,o=a.revealOrder,p=a.rootMargin;a=a.triggerXStyle;var q=j.useState(0),r=q[0],s=q[1],t=j.useRef(!1);q=j.useTransition();var u=q[0],v=j.useRef(null),w=j.useRef(0),x=e,y=j.useCallback(function(){w.current=(i||(i=b("performanceNow")))(),u(function(){s(function(a){return a+1}),m(v)})},[m,u,v]);j.useEffect(function(){if(b("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[useEffect]","checking if we need to load more",{hasMore:e,isGlimmerVisible:t.current,isLoading:f});e&&!f&&t.current&&(b("cr:1142206")!=null&&b("cr:1142206").log("[useEffect]","Need to load more -- calling prioritizeOnLoadMore"),y())},[y,f,e,x]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){x||(t.current=!1)},[x]);q=j.useCallback(function(){if(b("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible] fired",{wasVisible:t.current});var a=t.current;t.current=!0;b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible]","checking if we need to load more",{hasMore:e,isLoading:f,wasVisible:a});!a&&e&&!f&&(b("cr:1142206")!=null&&b("cr:1142206").log("[onVisible]","calling prioritizedOnLoadMore"),y())},[e,f,y]);var z=j.useCallback(function(){if(b("gkx")("1475760"))return;b("cr:1142206")!=null&&b("cr:1142206").log("[onHidden]","marking glimmer refs as hidden",{wasVisible:t.current});t.current=!1},[]),A=b("useVisibilityObserver")({onHidden:z,onVisible:q,options:{rootMargin:(z=p)!=null?z:0}}),B=0;q=j.Children.map(c,function(a){return a?n!=null?j.jsx(b("CometPagelet.react").Placeholder,{fallback:g,name:n,position:B++,trackTailLoad:!0,children:a}):j.jsx(b("CometPlaceholder.react"),{fallback:g,children:a}):null});z=j.useState(!1);c=z[0];var C=z[1];j.useEffect(function(){return C(!0)},[]);if(b("gkx")("1475760")&&(e&&!f&&c)){z=j.jsx(l,{onLoadMore:y,rootMargin:p,triggerXStyle:a},"tailTrigger"+r);o==="backwards"?q.unshift(z):q.push(z)}c=B;var D=b("useCometTailLoadGlimmerTracker")(n,c,w.current);p=j.useMemo(function(){return b("mergeRefs")(d,v,D,A)},[d,D,A]);return j.jsxs(j.Fragment,{children:[x&&o==="backwards"?j.jsx("div",{ref:p,children:g},"glimmerBackwards"):null,j.jsx(b("CometSuspenseList.react"),{revealOrder:o||"forwards",tail:"hidden",children:q},"list"),x&&o!=="backwards"?j.jsx("div",{className:(h||(h=b("stylex")))(b("gkx")("1386096")&&k.glimmerRoot),ref:p,children:g},"glimmer"):null]})}}),null);
__d("CometInfiniteScrollSuspenseListIncrementalRenderer.react",["CometInfiniteScrollSuspenseList.react","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=[1,2,2,2,4];function a(a){var c=a.children,d=a.hasMore,e=a.isLoading,f=a.onLoadMore,g=a.revealOrder;g=g===void 0?"forwards":g;var j=a.pageSizes,k=j===void 0?i:j;j=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasMore","isLoading","onLoadMore","revealOrder","pageSizes"]);a=h.useState(k[0]);var l=a[0],m=a[1],n=h.useRef(1),o=h.Children.count(c);a=l<o;if(g!=="forwards")throw b("unrecoverableViolation")('CometInfiniteScrollSuspenseListIncrementalRenderer currently only supports revealOrder="forwards"',"comet_feed");var p=h.useCallback(function(a){n.current=Math.min(n.current,k.length-1);var b=k[n.current];l<o?(n.current++,m(l+b)):d&&!e&&(l===o&&(n.current++,m(l+b)),f(a))},[d,e,o,l,f,k]),q=h.useMemo(function(){return h.Children.toArray(c).slice(0,l)},[c,l]);return h.jsx(b("CometInfiniteScrollSuspenseList.react"),babelHelpers["extends"]({},j,{hasMore:d||a,isLoading:e&&!a,onLoadMore:p,revealOrder:g,children:q}))}}),null);
__d("CometFeedInfiniteScrollSuspenseList.react",["CometEventListener","CometFeedGlimmer.react","CometFeedTailLoadBufferHeight","CometInfiniteScrollSuspenseList.react","CometInfiniteScrollSuspenseListIncrementalRenderer.react","CometInteractionSourceContext","FBLogger","QuickPerformanceLogger","WebConnectionClassServerGuess","react","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.children,d=a.hasMore,e=a.incrementalRendering;e=e===void 0?!0:e;var f=a.incrementalRenderingPageSizes,g=a.interactionSource,i=a.isLoading,j=a.onLoadMore,k=a.pageletName,l=a.revealOrder,m=a.waitOnScrollIntent;a=h.useState(!1);var n=a[0],o=a[1];h.useEffect(function(){if(!n){var a=window.scrollY,c=b("CometEventListener").capture(window,"scroll",function(b){b.target===window.document&&window.scrollY!==a&&o(!0)});return function(){c.remove()}}},[n]);a=h.useMemo(function(){return{onVisible:function(){b("QuickPerformanceLogger").markEvent(655653,"collision_happened",7,{annotations:{bool:{had_demonstrated_scroll_intent:n},"int":{interaction_source:g}}})}}},[g,n]);a=b("useVisibilityObserver")(a);var p=h.useMemo(function(){var a;if(m===!0&&!n)return 0;var c;switch(b("WebConnectionClassServerGuess").connectionClass){case"UNKNOWN":case"EXCELLENT":default:c=b("CometFeedTailLoadBufferHeight").EXCELLENT;break;case"GOOD":c=b("CometFeedTailLoadBufferHeight").GOOD;break;case"MODERATE":c=b("CometFeedTailLoadBufferHeight").MODERATE;break;case"POOR":c=b("CometFeedTailLoadBufferHeight").POOR;break}c==null&&(b("FBLogger")("comet_feed").mustfix("Found no tail load buffer height value for the connection class `%s`. Falling back to 2500px.",b("WebConnectionClassServerGuess").connectionClass),c=2500);return a={},a[l==="backwards"?"top":"bottom"]=c,a},[l,n,m]);a={endGlimmerRef:a,hasMore:d,isLoading:i,listGlimmer:h.jsx(b("CometFeedGlimmer.react"),{}),onLoadMore:j,pageletName:k,revealOrder:l,rootMargin:p};if(e&&(l==null||l==="forwards"))return h.jsx(b("CometInteractionSourceContext").Provider,{value:g,children:h.jsx(b("CometInfiniteScrollSuspenseListIncrementalRenderer.react"),babelHelpers["extends"]({pageSizes:f},a,{children:c}))});else return h.jsx(b("CometInteractionSourceContext").Provider,{value:g,children:h.jsx(b("CometInfiniteScrollSuspenseList.react"),babelHelpers["extends"]({},a,{children:c}))})}}),null);
__d("CometTailLoadDebugger",[],(function(a,b,c,d,e,f){"use strict";f.dump=a;f.log=b;var g=[];function a(){return g}function b(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];g.push([new Date().toLocaleString()].concat(b))}}),null);
__d("cometFeedUnitID",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return"CometFeedUnit_"+a}}),null);
__d("useCometFeedKeyCommands",["CometFeedUnitDebugInfoState","FocusRegion.react","GHLAriaLabelTracker","cometFeedUnitID","cometGetKeyCommandConfig","react","scrollTo","useLayerKeyCommands"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=60+16,j=function(a,b){return b.role==="article"};function k(a,c){b("GHLAriaLabelTracker").set();a=b("FocusRegion.react").focusRegionById(b("cometFeedUnitID")(a),j,!0);var d=document.documentElement;if(a!=null&&d!=null){d=a.getBoundingClientRect();d=d.top+window.pageYOffset-i-((a=c)!=null?a:0);b("scrollTo")({behavior:"smooth",top:d});return!0}return!1}function l(a,b){var c=document.activeElement;c!=null&&(c.blur(),window.requestAnimationFrame(function(){k(a,b)}))}function a(a,c,d){var e=h.useState(-1),f=e[0],g=e[1],i=h.useCallback(function(a){if(c==null)return f;var d=b("CometFeedUnitDebugInfoState").getStateSnapshot();d=d[c];if(d==null)return f;d=d.visibleUnits;if(d.some(function(a){return a.visible&&a.position===f}))return f;a=a==="forward"?d[0]:d[d.length-1];if((a==null?void 0:a.position)===0)return-1;else{return(d=a==null?void 0:a.position)!=null?d:-1}},[f,c]),j=h.useCallback(function(){var b=i("forward");if(b<a-1){var c=b+1;k(c,d)&&g(c)}else l(b,d)},[i,a,d]),m=h.useCallback(function(){var a=i("backward");if(a>0){var b=a-1;k(b,d)&&g(b)}else l(a,d)},[i,d]);e=h.useMemo(function(){return[b("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","scrollNext",j),b("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","scrollPrevious",m)]},[j,m]);b("useLayerKeyCommands")(e);return f}}),null);
__d("ProfileCometAppCollectionContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c={collectionID:null};d=a.createContext(c);e.exports=d}),null);
__d("ProfileCometAppSectionSearchContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext({isSearchEnabled:!1,refetch:null,searchQuery:null,setGlimmerComponent:function(){},setRefetch:function(){},setSearchQuery:function(){}});e.exports=c}),null);