if (self.CavalryLogger) { CavalryLogger.start_js(["s1yNtty"]); }

__d("cssURL",[],(function(a,b,c,d,e,f){e.exports=a;function a(a){return"url('"+a.replace(/[\ud800-\udfff].|[^-a-zA-Z0-9./_?]/g,function(a){return"\\"+a.codePointAt(0).toString(16)+" "})+"')"}}),null);
__d("CssBackgroundImage.react",["EncryptedImg","createCancelableFunction","cssURL","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={image:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs="},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a){var c=this;this.$1&&this.$1.cancel();this.$1=b("createCancelableFunction")(function(b){a===c.props.imageURI&&c.setState({image:b})});b("EncryptedImg").load(a,this.$1)};c.getDerivedStateFromProps=function(a){a=a.imageURI;return a!=null&&!b("EncryptedImg").isEncrypted(a)?{image:a}:null};d.componentDidMount=function(){var a=this.props.imageURI;a!=null&&b("EncryptedImg").isEncrypted(a)&&this.$2(a)};d.componentDidUpdate=function(a){var c=this.props.imageURI;c!==a.imageURI&&c!=null&&b("EncryptedImg").isEncrypted(c)&&this.$2(c)};d.componentWillUnmount=function(){this.$1&&this.$1.cancel()};d.render=function(){var a=this.props;a.imageURI;var c=a.backgroundPosition,d=a.height,e=a.width,f=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["imageURI","backgroundPosition","height","width","style"]);return h.jsx("div",babelHelpers["extends"]({style:babelHelpers["extends"]({},f,{backgroundImage:b("cssURL")(this.state.image),backgroundPosition:c||f.backgroundPosition,height:d||f.height,width:e||f.width})},a))};return c}(h.Component);e.exports=a;a.defaultProps={backgroundPosition:"0% 0%",style:{}}}),null);
__d("MentionsTypeaheadViewItem.react",["cx","fbt","Badge.react","CssBackgroundImage.react","ImageBlock.react","TypeaheadViewItem","createReactClass_DEPRECATED","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react");a=b("createReactClass_DEPRECATED")({displayName:"MentionsTypeaheadViewItem",mixins:[b("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{ariaDescribedBy:b("prop-types").string,id:b("prop-types").string}),render:function(){var a=this.props.entry,c=a.getAuxiliaryData(),d=null;c&&(c.verified?d=j.jsx(b("Badge.react"),{type:"verified",size:"xsmall"}):c.workForeignEntity?d=j.jsx(b("Badge.react"),{type:"work_non_coworker"}):c.renderType==="private_non_member"&&(d=j.jsx(b("Badge.react"),{type:"inactive_user"})));var e=a.getPhoto();e=typeof e==="string"&&e!==""?j.jsx(b("CssBackgroundImage.react"),{className:"_5u93",imageURI:e}):j.jsx("span",{});var f=null;a.getSubtitle()&&(f=j.jsx("div",{className:"_5u95",children:a.getSubtitle()}));var g="_5u91"+(this.props.highlighted?" _5u92":"");return j.jsx("li",{id:this.props.id,role:"option",className:g,"aria-label":a.getTitle(),"aria-selected":this.props.highlighted,"aria-describedby":this.props.ariaDescribedBy,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,"data-tooltip-position":"right","data-tooltip-content":c.workUser===!0&&c.renderType==="private_non_member"?h._("This person won't be notified"):"","data-hover":"tooltip",children:j.jsxs(b("ImageBlock.react"),{spacing:"medium",children:[e,j.jsxs("div",{style:{opacity:c.renderType==="private_non_member"&&this.props.highlighted===!1?.7:1},children:[j.jsxs("div",{className:"_5u94",children:[a.getTitle(),d]}),f]})]})})}});c=a;e.exports=c}),null);
__d("GroupMentionsTypeaheadView.react",["cx","fbt","ix","Image.react","MentionsTypeaheadViewItem.react","gkx","prop-types","react","uniqueID"],(function(a,b,c,d,e,f,g,h,i){var j,k=j||b("react"),l=h._("No Results");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={emptyMembersHeaderID:b("uniqueID")(),membersHeaderID:b("uniqueID")(),nonMembersHeaderID:b("uniqueID")(),botsHeaderID:b("uniqueID")(),allResultsHeaderID:b("uniqueID")()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){var d=a===this.props.highlightedEntry;return k.jsx(b("MentionsTypeaheadViewItem.react"),{ariaDescribedBy:c,entry:a,highlighted:d,id:a.getUniqueID(),onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight},a.getUniqueID())};d.$2=function(a){var b=this,c=null;a.length?c=a.map(function(a,c){c=c===0?b.state.membersHeaderID:null;return b.$1(a,c)}):c=[k.jsx("li",{className:"_2ph-",role:"option","aria-selected":!1,"aria-describedby":this.state.membersHeaderID,"aria-label":l,children:l},this.state.emptyMembersHeaderID)];a=null;this.props.viewProps.member.aux&&(a=k.jsxs("span",{className:"_1knr",children:[" \xb7 ",this.props.viewProps.member.aux]}));a=[k.jsxs("li",{className:"_1kns",children:[this.props.viewProps.member.title,a]},this.state.membersHeaderID)];a.push.apply(a,c);return a};d.$3=function(a){var c=this;if(!a.length)return null;var d=null;this.props.viewProps.nonMember.aux&&(d=k.jsxs("span",{className:"_1knr",children:[" \xb7 ",this.props.viewProps.nonMember.aux]}));d=[k.jsxs("li",{className:"_1kns",children:[k.jsx(b("Image.react"),{src:i("75329"),className:"_1knt"}),this.props.viewProps.nonMember.title,d]},this.state.nonMembersHeaderID)];d.push.apply(d,a.map(function(a,b){b=b===0?c.state.nonMembersHeaderID:null;return c.$1(a,b)}));return d};d.$4=function(a){var b=this;if(!a.length||!this.props.viewProps.bot)return null;var c=null;this.props.viewProps.bot.aux&&(c=k.jsxs("span",{className:"_1knr",children:[" \xb7 ",this.props.viewProps.bot.aux]}));c=[k.jsxs("li",{className:"_1kns",children:[this.props.viewProps.bot.title,c]},this.state.botsHeaderID)];c.push.apply(c,a.map(function(a,c){c=c===0?b.state.botsHeaderID:null;return b.$1(a,c)}));return c};d.$5=function(a){var b=this,c=[];c.push.apply(c,a.map(function(a,c){c=c===0?b.state.allResultsHeaderID:null;return b.$1(a,c)}));return c};d.render=function(){var a=this,c=[],d=[],e=[],f=[];this.props.entries.forEach(function(b){var g=b.getAuxiliaryData();g=g.renderType;g==="member"?c.push(b):g==="hashtag"?e.push(b):g==="bot"&&a.props.viewProps.bot?f.push(b):d.push(b)});var g="_9ihu"+(!c.length&&!d.length&&!e.length&&!f.length?" _9ihv":""),h=c.length===0&&d.length===0&&e.length>0,i=b("gkx")("1227858");h?h=h:i?h=this.$5(this.props.entries):h=this.$2(c).concat(this.$4(f)).concat(this.$3(d));return k.jsx("ul",{"aria-label":this.props.label,className:g,role:"listbox",id:this.props.controlleeID,"data-testid":void 0,children:h})};return c}(k.Component);e.exports=a;a.propTypes={controlleeID:b("prop-types").string,viewProps:b("prop-types").object,highlightedEntry:b("prop-types").object,label:b("prop-types").string,entries:b("prop-types").array.isRequired,onSelect:b("prop-types").func.isRequired,onHighlight:b("prop-types").func,onRenderHighlight:b("prop-types").func}}),null);
__d("upgradedUFI2MentionsComposerPluginAnchorStrategy",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=/\s/;function a(a,b,c,d){b=h(b);d=d.getSelectionAfter().getFocusOffset();var e=b.substring(d).split(g)[0].length;b=b.substring(0,d+e);d=a(b);e=d.searchResult;if(e!=null){a=e.leadOffset;b=e.replaceableString;c(a,a+b.length)}}function h(a){var b=a.getText();return a.getCharacterList().map(function(a,c){return a.getEntity()===null?b.slice(c,c+1):" "}).join("")}}),null);
__d("createUpgradedUFI2MentionsComposerPluginAnchorDecorator",["react","upgradedUFI2MentionsComposerPluginAnchorStrategy"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){return{component:function(a){var b=a.children,d=a.offsetKey;a.blockKey;a.contentState;a.decoratedText;var e=a.end;a.entityKey;var f=a.start;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","offsetKey","blockKey","contentState","decoratedText","end","entityKey","start"]);return h.jsx("span",babelHelpers["extends"]({end:e,ref:c,start:f},a,{"data-offset-key":d,spellCheck:!1,children:b}))},strategy:function(c,d,e){b("upgradedUFI2MentionsComposerPluginAnchorStrategy")(a,c,d,e)}}}}),null);
__d("upgradedUFI2MentionsComposerPluginDraftUtils",[],(function(a,b,c,d,e,f){f.getMaybeEditorState=a;f.getCurrentContentBlock=g;f.getTextAtAnchor=b;function a(a){a=a.inputState;var b=a.__type;if(b!=="editor-state-based")return null;b=a.editorState;return b}function g(a){var b=a.getSelection();b=b.getAnchorKey();a=a.getCurrentContent();return a.getBlockForKey(b)}function b(a){if(a==null)return null;var b=a.getSelection();b=b.getAnchorOffset();a=g(a);var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}}),null);
__d("useUpgradedUFI2MentionsComposerDataSourceFetch",["react","shallowEqual","upgradedUFI2MentionsComposerPluginDraftUtils"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=h.useRef(null);return h.useCallback(function(e,f,g){d.current!=null&&d.current.remove!=null&&d.current.remove();e=b("upgradedUFI2MentionsComposerPluginDraftUtils").getMaybeEditorState(e);if(e==null)return;var h=e.getCurrentContent();e=e.getSelection();if(e.getHasFocus()===!1){f.mentionableEntities.length!==0&&g(function(a){return babelHelpers["extends"]({},a,{mentionableEntities:[]})});return}d.current=c.search(h,e,function(c){var d=a.typeaheadViewProps;c=(c=c)!=null?c:[];d!=null&&d.sortFn!=null&&c.sort(d.sortFn);var e=c.slice(0,a.maxResults);d=!b("shallowEqual")(c,e);if(c.length===0&&d===!1){g(function(){return{mentionableEntities:[],selectedMentionableEntity:null}});return}var h=c.includes(f.selectedMentionableEntity)?f.selectedMentionableEntity:c[0];if(f.selectedMentionableEntity===h&&d===!1)return;g(function(){return{mentionableEntities:e,selectedMentionableEntity:h}})})},[a,c])}}),null);
__d("useUpgradedUFI2MentionsComposerPluginAriaHandler",["react","uniqueID","usePrevious"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=h.useMemo(b("uniqueID"),[]),e=b("usePrevious")(a);h.useEffect(function(){var b=e?e.getUniqueID():null,f=a?a.getUniqueID():null;f!=null&&f!==b&&c({"aria-activedescendant":f,"aria-controls":d})},[c,e,a,d]);return{viewID:d}}}),null);
__d("useUpgradedUFI2MentionsComposerPluginEntitySelectionHandler",["FBLogger","cometReplaceMentionedTextInEditorState","createCometComposerMentionsEntity","getCometComposerMentionsSearch"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.onComposerStateChange,d=a.state,e=a.setState,f=a.typeaheadMetricReporter,h=a.dataSourceResolver;return function(a){var i=a.editorState,j=a.selectionMethod,k=a.mentionableEntity;a=b("getCometComposerMentionsSearch")(i);a=h(a);a=a.searchResult;if(a==null)return;f.reportSelect(k.getUniqueID(),k.getType(),d.mentionableEntities.indexOf(k),j==="click");f.sessionEnd();f.sessionStart();j={getKey:function(){return k.getUniqueID()},getLabel:function(){return k.getTitle()},getMentionDecorType:function(){return"regular"},getPhotoURI:function(){return null}};var l=b("cometReplaceMentionedTextInEditorState")(j,i,a.replaceableString.length,function(a,c){return b("createCometComposerMentionsEntity")(c.getKey(),!1,a)},function(){return k.getTitle()});c(function(a){return g(a,l)});e(function(a){return{mentionableEntities:[],selectedMentionableEntity:null}})}}function g(a,c){var d=a.inputState;switch(d.__type){case"editor-state-based":c=babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{editorState:c})});return c;case"plain-text":default:b("FBLogger")("ufi2").warn("Unimplemented: tried to commit a searchable entity as a mention to a `UFI2ComposerState` with an `inputState` of type `%s`. Only the `editor-state-based` type is supported at the moment.",d.__type);return a}}}),null);
__d("useUpgradedUFI2MentionsComposerPluginInstaller",["CometUFIComposerEntity","UnicodeUtils","useEffectOnce"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){b("useEffectOnce")(function(){var c=a(function(a,c,d,e){var f=a.getEntityAt(d);if(f==null)return null;c=c.getEntity(f);if(c.getType()==="MENTION"){f=a.getText().slice(d,e);a=c.getData();e=a.id;if(/^\d+$/.test(e)){a=(a={},a[e]=b("CometUFIComposerEntity").draftEntityInstanceToCometUFIComposerEntity(c),a);return{entitiesByID:a,message:{ranges:[{entity:{id:e},entity_is_weak_reference:c.isWeak,length:(g||(g=b("UnicodeUtils"))).strlen(f),offset:d}],text:f}}}}return null});return function(){return c.remove()}})}}),null);
__d("MentionSpan.react",["cx","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.children,c=a.offsetKey;a.blockKey;a.contentState;a.decoratedText;a.end;a.entityKey;a.start;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","offsetKey","blockKey","contentState","decoratedText","end","entityKey","start"]);return i.jsx("span",babelHelpers["extends"]({},a,{"data-offset-key":c,className:"_247o",spellCheck:!1,children:b}))};return b}(i.Component);e.exports=a}),null);
__d("WeakMentionSpan.react",["cx","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsx("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:!1,children:this.props.children})};return b}(i.Component);e.exports=a}),null);
__d("AbstractSearchSource",["Promise"],(function(a,b,c,d,e,f){a=function(){function a(){}var c=a.prototype;c.bootstrap=function(a){var c=this;this.$1||(this.$1=new(b("Promise"))(function(a){c.bootstrapImpl(a)}));return this.$1.then(a)};c.search=function(a,b,c){this.searchImpl(a,b,c)};c.bootstrapImpl=function(a){a()};c.searchImpl=function(a,b,c){throw new Error("Abstract method #searchImpl is not implemented.")};c.clearBootstrappedData=function(){this.$1=null};return a}();e.exports=a}),null);
__d("SearchSourceQueryStatus",[],(function(a,b,c,d,e,f){a="ACTIVE";f.ACTIVE=a;b="COMPLETE";f.COMPLETE=b}),null);
__d("SearchSourceCallbackManager",["invariant","SearchSourceQueryStatus","createObjectFrom","nullthrows"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$9=a.parseFn,typeof this.$9==="function"||g(0,4065),this.$8=a.matchFn,typeof this.$8==="function"||g(0,4066),this.$2=a.alwaysPrefixMatch||!1,this.$6=a.indexFn||h,this.$4=a.exclusions||{},this.reset()}var c=a.prototype;c.search=function(a,b){var c=this.$13(a,b);if(c)return 0;this.$1.push({queryString:a,callback:b});c=this.$1.length-1;this.$10.push(c);return c};c.$13=function(a,c){var d=this,e=this.$14(a),f=!!this.$5[a];if(!e.length){c([],a,f?b("SearchSourceQueryStatus").COMPLETE:b("SearchSourceQueryStatus").ACTIVE);return f}e=e.map(function(a){return d.$3[a]});c(e,a,f?b("SearchSourceQueryStatus").COMPLETE:b("SearchSourceQueryStatus").ACTIVE);return f};c.$15=function(){var a=this.$10;this.$10=[];a.forEach(this.$16,this)};c.$16=function(a){var b=this.$1[a];if(!b)return;b=this.$13(b.queryString,b.callback);if(b){delete this.$1[a];return}this.$10.push(a)};c.reset=function(){this.$3={},this.$12={},this.$7={},this.$11={},this.$5={},this.$10=[],this.$1=[void 0]};c.addLocalEntries=function(a){var b=this;a.forEach(function(a){var c=a.getUniqueID(),d=b.$6(a);b.$3[c]=a;b.$12[c]=d;a=b.$9(d);a.tokens.forEach(function(a){Object.prototype.hasOwnProperty.call(b.$7,a)||(b.$7[a]={}),b.$7[a][c]=!0})});this.$15()};c.addQueryEntries=function(a,c,d){var e=this;d===b("SearchSourceQueryStatus").COMPLETE&&this.setQueryStringAsExhausted(c);d=this.$14(c);var f=this.$9(c).flatValue;this.$11[f]=b("createObjectFrom")(d,!0);a.forEach(function(a){var b=a.getUniqueID();e.$3[b]=a;e.$12[b]=e.$6(a);e.$11[f][b]=!0});this.$15()};c.unsubscribe=function(a){delete this.$1[a]};c.removeEntry=function(a){delete this.$3[a]};c.getAllEntriesMap=function(){return this.$3};c.setQueryStringAsExhausted=function(a){this.$5[a]=!0};c.unsetQueryStringAsExhausted=function(a){delete this.$5[a]};c.$14=function(a){var b=this,c=this.$17(a,this.$18(a));a=this.$17(a,this.$19(a));c=c.concat(a);var d={},e=[];c.forEach(function(a){d[a]==null&&b.$3[a]!=null&&b.$4[a]==null&&(e.push(a),d[a]=!0)});return e};c.$17=function(a,b){var c=this.$20(a,b),d=this.$3;function e(a,b){if(c[a]!==c[b])return c[a]?-1:1;a=d[a];b=d[b];if(a.getOrder()!==b.getOrder())return a.getOrder()-b.getOrder();var e=a.getTitle().length,f=b.getTitle().length;return e!==f?e-f:a.getUniqueID()-b.getUniqueID()}return b.sort(e).slice()};c.$20=function(a,b){var c=this,d={};b.forEach(function(b){d[b]=c.$8(a,c.$12[b])});return d};c.$18=function(a){var c=this,d=this.$9(a,this.$2),e=this.$2?b("nullthrows")(d.sortedTokens):d.tokens,f=e.length,g=d.isPrefixQuery?f-1:null,h={},i={},j={};d=!1;var k={},l=0;e.forEach(function(a,b){if(Object.prototype.hasOwnProperty.call(k,a))return;l++;k[a]=!0;for(var e in c.$7){var f=e===a&&!Object.prototype.hasOwnProperty.call(h,e),m=!1;f||(m=(c.$2||g===b)&&e.indexOf(a)===0);if(!f&&!m){Object.prototype.hasOwnProperty.call(h,e)||(d=!0);continue}e===a?(Object.prototype.hasOwnProperty.call(i,e)&&(d=!0),h[e]=!0):((Object.prototype.hasOwnProperty.call(h,e)||Object.prototype.hasOwnProperty.call(i,e))&&(d=!0),i[e]=!0);for(var n in c.$7[e])(b===0||Object.prototype.hasOwnProperty.call(j,n)&&j[n]==l-1)&&(j[n]=l)}});e=Object.keys(j).filter(function(a){return j[a]==l});(d||l<f)&&(e=this.$21(a,e));return e};c.$19=function(a){var b=this.$9(a).flatValue,c=this.$22(b);return Object.prototype.hasOwnProperty.call(this.$11,b)?c:this.$21(a,c)};c.$22=function(a){var b=0,c=null,d=this.$11;Object.keys(d).forEach(function(d){(a.indexOf(d)===0&&d.length>b||d===a)&&(b=d.length,c=d)});return c!=null&&Object.prototype.hasOwnProperty.call(d,c)?Object.keys(d[c]):[]};c.$21=function(a,b){var c=this;return b.filter(function(b){return c.$8(a,c.$12[b])})};return a}();e.exports=a;function h(a){return[a.getTitle(),a.getKeywordString()].join(" ")}}),null);
__d("AbstractAsyncSearchSource",["AbstractSearchSource","SearchSourceCallbackManager","SearchSourceQueryStatus","SearchableEntry","TokenizeUtil","emptyFunction","isValidUniqueID"],(function(a,b,c,d,e,f){var g=b("SearchSourceQueryStatus").ACTIVE,h=b("SearchSourceQueryStatus").COMPLETE;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f,g;g=a.call(this)||this;g.$AbstractAsyncSearchSource1=c.asyncErrorHandler||b("emptyFunction");g.$AbstractAsyncSearchSource2=c.auxiliaryFields;g.$AbstractAsyncSearchSource4=c.bootstrapRequests;g.$AbstractAsyncSearchSource7=c.getAllForEmptyQuery;g.$AbstractAsyncSearchSource8=c.getAllForBootstrapPrefix;g.$AbstractAsyncSearchSource9=c.bootstrapPrefix;g.$AbstractAsyncSearchSource11=c.packageFn||g.$AbstractAsyncSearchSource15;g.$AbstractAsyncSearchSource12=c.queryRequests;g.$AbstractAsyncSearchSource13=c.requestData||{};g.$AbstractAsyncSearchSource6=(f=c.entryModifier_USE_SPARINGLY)!=null?f:b("emptyFunction").thatReturnsArgument;g.$AbstractAsyncSearchSource3=[];g.$AbstractAsyncSearchSource5=new(b("SearchSourceCallbackManager"))({parseFn:(f=c.parseFn)!=null?f:b("TokenizeUtil").parse,matchFn:c.matchFn||b("TokenizeUtil").isQueryMatch,indexFn:c.indexFn,exclusions:c.exclusions});g.$AbstractAsyncSearchSource14=d;g.$AbstractAsyncSearchSource10=e;return g}var d=c.prototype;d.bootstrapImpl=function(a){var b=this,c=a;if(!this.$AbstractAsyncSearchSource4||!this.$AbstractAsyncSearchSource4.length){c();return}var d=this.$AbstractAsyncSearchSource4.length,e=0;this.$AbstractAsyncSearchSource4.forEach(function(a){b.$AbstractAsyncSearchSource16(b.$AbstractAsyncSearchSource13,a,function(a){a=a.map(function(a){return b.$AbstractAsyncSearchSource6(a)});b.$AbstractAsyncSearchSource5.addLocalEntries(a);b.$AbstractAsyncSearchSource3=b.$AbstractAsyncSearchSource3.concat(a);e++;c&&e===d&&(c(),c=null)})})};d.searchImpl=function(a,c,d){var e=this,f=this.$AbstractAsyncSearchSource9;if(this.$AbstractAsyncSearchSource7&&a===""||this.$AbstractAsyncSearchSource8&&a&&f&&a.trim().toLowerCase()===f.trim().toLowerCase()){this.getBootstrappedEntries(function(d){d=d.map(function(a){return e.$AbstractAsyncSearchSource6(a)});c(d,a,b("SearchSourceQueryStatus").COMPLETE)});return}var i=[],j={};f=this.$AbstractAsyncSearchSource5.search(a,function(b,a,f){if(d&&d.waitForAllResults&&f!==h)return;i.length===0?(i=b,i.forEach(function(a,b){j[a.getUniqueID()]=b})):b.forEach(function(a){a=e.$AbstractAsyncSearchSource6(a);var b=a.getUniqueID();if(!Object.prototype.hasOwnProperty.call(j,b)){var c=i.length;i.push(a);j[b]=c}else{c=j[b];c<i.length&&(i[c]=a)}});c(i,a,f)});if(!f||!this.$AbstractAsyncSearchSource12||!this.$AbstractAsyncSearchSource12.length)return;var k=babelHelpers["extends"]({value:a,existing_ids:d&&d.disableExistingIDs?"":i&&i.map(function(a){return a.getUniqueID()}).join(",")},this.$AbstractAsyncSearchSource13),l=this.$AbstractAsyncSearchSource12.length;this.$AbstractAsyncSearchSource12.forEach(function(b){e.$AbstractAsyncSearchSource16(k,b,function(b){l--;b=Array.from(b.reduce(function(a,b){b=e.$AbstractAsyncSearchSource6(b);var c=b.getUniqueID();if(a.has(c)){var d=a.get(c);d!=null&&b.getOrder()<d.getOrder()&&a.set(c,b)}else a.set(c,b);return a},new Map()).values());e.$AbstractAsyncSearchSource17(b,a,l?g:h)})})};d.getBootstrappedEntries=function(a){var b=this;return this.bootstrap(function(){return a(b.$AbstractAsyncSearchSource3||[])})};d.getBootstrapEntriesArray=function(){return this.$AbstractAsyncSearchSource3||[]};d.getAllEntriesMap=function(){return this.$AbstractAsyncSearchSource5.getAllEntriesMap()};d.setRequestData=function(a){this.$AbstractAsyncSearchSource13=a};d.getRequestData=function(){return this.$AbstractAsyncSearchSource13};d.setPackageResult=function(a){this.$AbstractAsyncSearchSource11=a};d.getCallbackManager=function(){return this.$AbstractAsyncSearchSource5};d.$AbstractAsyncSearchSource16=function(a,b,c){var d=this;this.$AbstractAsyncSearchSource14(a,b,function(a){return c(d.$AbstractAsyncSearchSource10(a,d.$AbstractAsyncSearchSource11).filter(Boolean))},this.$AbstractAsyncSearchSource1)};d.$AbstractAsyncSearchSource17=function(a,b,c){this.$AbstractAsyncSearchSource5.addQueryEntries(a,b,c)};d.$AbstractAsyncSearchSource15=function(a,c){var d=a.title||a.text,e=a.uniqueID||a.uid;return!d||!b("isValidUniqueID")(e)?null:new(b("SearchableEntry"))({uniqueID:e,order:a.order||a.index||c,title:d,subtitle:a.subtitle||a.category||a.subtext,keywordString:a.keywordString||a.tokens,type:a.type,photo:a.photo,uri:a.uri||a.path,auxiliaryData:this.$AbstractAsyncSearchSource18(a)})};d.$AbstractAsyncSearchSource18=function(a){var b;if(this.$AbstractAsyncSearchSource2){b={};for(var c in this.$AbstractAsyncSearchSource2){var d=this.$AbstractAsyncSearchSource2[c];b[c]=a[d]}}d=a.aux_data||a.auxiliaryData;d&&(b=babelHelpers["extends"]({},b,d));return b};return c}(b("AbstractSearchSource"));e.exports=a}),null);