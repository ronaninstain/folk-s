if (self.CavalryLogger) { CavalryLogger.start_js(["cHMf7ZB"]); }

__d("MWChatBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatBadgeCountQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatBadgeCountQuery",selections:a},params:{id:"3710082515757037",metadata:{},name:"MWChatBadgeCountQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatBadgeCount.react",["CometNumberedBadge.react","CometPlaceholder.react","CometRelay","MWChatBadgeCountQuery.graphql","MWChatBadgeCountUpdates.re","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react"),j=g!==void 0?g:g=b("MWChatBadgeCountQuery.graphql");function k(a){var c=a.setBadgeCount;a=b("CometRelay").useLazyLoadQuery(j,{});a=(a=a.viewer)==null?void 0:a.message_threads;var d=a!=null&&a.unseen_count!=null&&a.unseen_count>0?Math.min(b("MWChatBadgeCountUpdates.re").minSyncedThreads,a.unseen_count):0,e=i.useRef(null);i.useEffect(function(){c&&e.current!==d&&(e.current=d,c(d))},[d,c]);return i.jsx(i.Fragment,{children:d>0?i.jsx(b("CometNumberedBadge.react"),{testid:void 0,value:d}):null})}function a(a){a=a.setBadgeCount;return i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(k,{setBadgeCount:a})})}}),null);
__d("useMutationObserver",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,b){var c=h.useRef({observer:null,callback:a}),d=h.useRef(null),e=h.useRef({element:null,options:null,observer:null}),f=h.useCallback(function(){var a=e.current,f=a.observer,g=a.element;a=a.options;var h=c.current.observer,i=d.current;(g!=i||b!=a||h!=f)&&(f&&f.disconnect(),h&&i&&h.observe(i,b),e.current={observer:h,element:i,options:b})},[b]);(c.current.observer==null||c.current.callback!==a)&&(c.current.observer!=null&&c.current.observer.disconnect(),c.current={observer:new MutationObserver(a),callback:a});f();return h.useCallback(function(a){d.current=a,f()},[f])}}),null);