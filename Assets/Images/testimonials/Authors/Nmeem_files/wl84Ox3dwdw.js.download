if (self.CavalryLogger) { CavalryLogger.start_js(["usM8UtA"]); }

__d("CometCommentContextualMessage_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometCommentContextualMessage_feedback",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_contextual_message_comet_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometCommentContextualMessage_feedback_comment_contextual_message_comet",fragmentName:"StandardsInCommentsCometContextualMessage_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"StandardsInCommentsCometRenderer",abstractKey:null}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometCommentContextualMessage.react",["CometCommentContextualMessage_feedback.graphql","CometRelay","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){a=a.feedback;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometCommentContextualMessage_feedback.graphql"),a);return i.jsx(b("CometRelay").MatchContainer,{match:a.comment_contextual_message_comet_renderer})}}),null);
__d("createCometUFIStickersComposerPluginForDraftjs",["CometUFIInsertStickerComposerAction.react","createCometUFIStickersComposerActionComposerPlugin","createUFI2ComposerPlugin","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=function(c){function d(d){var e=h.useMemo(function(){return d.inputProps.composerState.attachment?d.actions:[].concat(d.actions,[h.jsx(b("CometUFIInsertStickerComposerAction.react"),{feedbackID:d.inputProps.composerState.feedbackID,onComposerStateChange:d.inputProps.onComposerStateChange,targetID:a.targetID},"stickersComposerAction")])},[d.actions,d.inputProps.composerState.attachment,d.inputProps.composerState.feedbackID,d.inputProps.onComposerStateChange]);return h.jsx(c,babelHelpers["extends"]({},d,{actions:e}))}return b("createUFI2ComposerPlugin")(d)};return[c,b("createCometUFIStickersComposerActionComposerPlugin")({environment:a.environment,targetID:a.targetID})]}}),null);
__d("cometUFISummaryCurrentLocaleRequiresExtraSpace",["CurrentLocale"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("CurrentLocale").get();switch(a){case"ru_RU":return!0;default:return!1}}}),null);
__d("createUFI2MediaUploadComposerPluginForDraftjs",["cx","fbt","Bootloader","ProgressBar.react","cr:1695992","cr:1747389","createUFI2ComposerPlugin","ifRequired","indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin","injectSubscriptionsHandler.react","mimeTypeIsAcceptableToUFI2MediaUploadPlugin","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function k(a,b){a.inputProps.onComposerStateChange(function(){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})}function l(a){return((a=a.attachment)==null?void 0:a.__type)==="Media"}function m(a,b,c){if(b==="ufi-commit"){var d=a.inputProps.composerState;d=d&&d.attachment&&d.attachment.__type==="Media"&&d.attachment.reference.__type;if(d==="File"||d==="UploadingFile")return"handled"}return a.inputProps.handleKeyCommand?a.inputProps.handleKeyCommand(b,c):"not-handled"}function n(a,b){if(a.length!==b.length)return!1;for(var c=0;c++;c<a.length)if(a!==b)return!1;return!0}function a(a){return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=0,d.$2=!1,d.state={fileIsHoveringOverDropTarget:!1,upgradedPlugin:b("ifRequired")("getUpgradedUFI2MediaUploadComposerPlugin",function(b){return b(a)},function(){return null}),uploadError:null},d.$3=[],d.$4=[],d.$7=function(a){d.$1++;var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&(a.preventDefault(),d.$1>0&&d.setState({fileIsHoveringOverDropTarget:!0}))},d.$8=function(){d.$1--,d.$1===0&&d.setState({fileIsHoveringOverDropTarget:!1})},d.$10=function(a){var b=a.dataTransfer;b!=null&&d.$6(a,b);d.$1=0;d.setState({fileIsHoveringOverDropTarget:!1})},d.$11=function(a){if(a.isDefaultPrevented())return;var b=a.clipboardData;if(b==null)return;d.$6(a,b)},d.$12=function(a){a=a.find(function(a){return b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)});if(a){k(d.props,new Blob([a],{type:a.type}));return"handled"}return"not-handled"},d.$13=function(){d.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$5=function(){var a=[this.props.inputProps.composerState.attachment,this.props.actions,this.props.inputProps.composerState.feedbackID,this.state.fileIsHoveringOverDropTarget,this.props.inputProps.onComposerStateChange];n(a,this.$4)||(this.$4=a,this.$3=this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[j.jsx(b("cr:1695992"),{feedbackID:this.props.inputProps.composerState.feedbackID,fileIsHoveringOverDropTarget:this.state.fileIsHoveringOverDropTarget,hasErrored:!1,onComposerStateChange:this.props.inputProps.onComposerStateChange},"mediaUploadComposerAction")]));return this.$3};f.$6=function(a,c){if(c==null)return;var d=b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c);if(d===-1)return;c=Array.from(c.items);c=d<c.length?c[d].getAsFile():null;c!=null&&(a.preventDefault(),k(this.props,c))};f.$9=function(a){var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&a.preventDefault()};f.$14=function(){var c=this;if(this.state.upgradedPlugin||this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2MediaUploadComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2MediaUploadComposerPluginForDraftjs"))};f.componentDidMount=function(){this.props.subscriptionsHandler.engage(),this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)):this.$15()&&this.$14()};f.$15=function(){if(this.state.upgradedPlugin||this.$2)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Media"};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)),this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidUpdate(a,this.props,this.state,this.setState.bind(this)):this.$15()&&this.$14()};f.componentWillUnmount=function(){this.props.subscriptionsHandler.release()};f.render=function(){var a=this;if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),this.$7,this.$8,this.$9,this.$10,m,this.$11,this.$12,c);var d=l(this.props.inputProps.composerState),e=j.jsx(c,babelHelpers["extends"]({},this.props,{actions:this.$5(),inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleKeyCommand:function(b,c){return m(a.props,b,c)},handlePastedFiles:this.$12})})),f=h._("Cancel upload");return j.jsxs("div",{className:"_25-w",onDragEnter:this.$7,onDragLeave:this.$8,onDragOver:this.$9,onDrop:this.$10,children:[e,d?j.jsx(b("cr:1747389"),{label:f,onRemove:this.$13,children:j.jsx(b("ProgressBar.react"),{label:h._("{value}\u0025",[h._param("value","0")]),value:0})}):null]})};return d}(j.Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}}),null);